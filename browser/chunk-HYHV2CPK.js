import{a as R}from"./chunk-7REFFCSB.js";import{a as B}from"./chunk-OMZ43A4R.js";import"./chunk-6WXPQQDQ.js";import"./chunk-4VDU63PD.js";import{b as k,c as V,f as I,h as T,i as L,j as W,k as N,l as F,m as A,n as z,o as q}from"./chunk-RTCBCNOZ.js";import{Fa as w,Ka as y,Oa as h,Qb as P,Rb as D,Va as p,Vb as O,Wa as t,Xa as i,Y as m,Z as f,a as v,b as C,bb as b,db as g,fb as c,mb as E,ob as a,pb as M,qb as S,sb as _,tb as x,ub as u,va as o}from"./chunk-VD7T3VHC.js";function U(d,r){if(d&1&&(t(0,"div",23),a(1),i()),d&2){let e=c();o(),S(" ",e.errorMessage," ")}}function Q(d,r){d&1&&(t(0,"div",24),a(1," Loading... "),i())}function Y(d,r){if(d&1){let e=b();t(0,"tr",25)(1,"td",26),a(2),i(),t(3,"td",27),a(4),i(),t(5,"td",28),a(6),i(),t(7,"td",28),a(8),i(),t(9,"td",29)(10,"button",30),g("click",function(){let n=m(e).$implicit,s=c();return f(s.openEditDepartmentModal(n))}),a(11,"\u270F\uFE0F"),i(),t(12,"button",31),g("click",function(){let n=m(e).$implicit,s=c();return f(s.deleteDepartment(n))}),a(13,"\u{1F5D1}\uFE0F"),i()()()}if(d&2){let e=r.$implicit;o(2),M(e.dpmtId),o(2),M(e.dpmtName),o(2),M(e.totalStaff||0),o(2),M(e.activeStaff||0)}}function J(d,r){d&1&&(t(0,"tr")(1,"td",32),a(2,"No departments found"),i()())}function G(d,r){d&1&&(t(0,"span",37),a(1," Active "),i())}function H(d,r){d&1&&(t(0,"span",38),a(1," Inactive "),i())}function K(d,r){if(d&1){let e=b();t(0,"tr",25)(1,"td",26),a(2),i(),t(3,"td")(4,"div",33)(5,"div",34),a(6),i(),t(7,"span",27),a(8),i()()(),t(9,"td",28),a(10),i(),t(11,"td",28),a(12),i(),t(13,"td",28),a(14),i(),t(15,"td"),h(16,G,2,0,"span",35)(17,H,2,0,"span",36),i(),t(18,"td",28),a(19),i(),t(20,"td",29)(21,"button",30),g("click",function(){let n=m(e).$implicit,s=c();return f(s.openEditModal(n))}),a(22,"\u270F\uFE0F"),i(),t(23,"button",31),g("click",function(){let n=m(e).$implicit,s=c();return f(s.deleteStaff(n.userId))}),a(24,"\u{1F5D1}\uFE0F"),i()()()}if(d&2){let e=r.$implicit,l=c();o(2),M(e.userId),o(4),S(" ",l.getInitials(e.name,e.surname)," "),o(2),M(l.getFullName(e)),o(2),M(e.departmentName||"N/A"),o(2),M(e.email),o(2),M(e.role||"N/A"),o(2),p("ngIf",e.active),o(),p("ngIf",!e.active),o(2),M(e.noAbsence||0)}}function X(d,r){d&1&&(t(0,"tr")(1,"td",39),a(2,"No staff members found"),i()())}function Z(d,r){if(d&1&&(t(0,"div",23),a(1),i()),d&2){let e=c(2);o(),S(" ",e.errorMessage," ")}}function $(d,r){if(d&1&&(t(0,"option",52),a(1),i()),d&2){let e=r.$implicit;p("value",e.dpmtId),o(),S(" ",e.dpmtName," ")}}function ee(d,r){if(d&1){let e=b();t(0,"div",40),g("click",function(){m(e);let n=c();return f(n.closeAddModal())}),t(1,"div",41),g("click",function(n){return m(e),f(n.stopPropagation())}),t(2,"h2",42),a(3,"Add New Staff Member"),i(),h(4,Z,2,1,"div",11),t(5,"div",43)(6,"div",44)(7,"div",45)(8,"label",46),a(9,"Name "),t(10,"span",47),a(11,"*"),i()(),t(12,"input",48),u("ngModelChange",function(n){m(e);let s=c();return x(s.newStaff.name,n)||(s.newStaff.name=n),f(n)}),i()(),t(13,"div",45)(14,"label",46),a(15,"Surname "),t(16,"span",47),a(17,"*"),i()(),t(18,"input",49),u("ngModelChange",function(n){m(e);let s=c();return x(s.newStaff.surname,n)||(s.newStaff.surname=n),f(n)}),i()()(),t(19,"div",44)(20,"div",45)(21,"label",46),a(22,"Email "),t(23,"span",47),a(24,"*"),i()(),t(25,"input",50),u("ngModelChange",function(n){m(e);let s=c();return x(s.newStaff.email,n)||(s.newStaff.email=n),f(n)}),i()(),t(26,"div",45)(27,"label",46),a(28,"Department "),t(29,"span",47),a(30,"*"),i()(),t(31,"select",51),u("ngModelChange",function(n){m(e);let s=c();return x(s.newStaff.departmentId,n)||(s.newStaff.departmentId=n),f(n)}),t(32,"option",52),a(33,"Select Department"),i(),h(34,$,2,2,"option",53),i()()(),t(35,"div",44)(36,"div",45)(37,"label",46),a(38,"Days Per Week (Contract) "),t(39,"span",47),a(40,"*"),i()(),t(41,"input",54),u("ngModelChange",function(n){m(e);let s=c();return x(s.newStaff.noDaysPerWeek_contract,n)||(s.newStaff.noDaysPerWeek_contract=n),f(n)}),i()()(),t(42,"div",44)(43,"div",45)(44,"label",46),a(45,"Contract Start Time "),t(46,"span",47),a(47,"*"),i()(),t(48,"input",55),u("ngModelChange",function(n){m(e);let s=c();return x(s.newStaff.startTime_contract,n)||(s.newStaff.startTime_contract=n),f(n)}),i()(),t(49,"div",45)(50,"label",46),a(51,"Contract End Time "),t(52,"span",47),a(53,"*"),i()(),t(54,"input",55),u("ngModelChange",function(n){m(e);let s=c();return x(s.newStaff.endTime_contract,n)||(s.newStaff.endTime_contract=n),f(n)}),i()()()(),t(55,"div",56)(56,"button",57),g("click",function(){m(e);let n=c();return f(n.saveStaff())}),a(57),i(),t(58,"button",58),g("click",function(){m(e);let n=c();return f(n.closeAddModal())}),a(59," Cancel "),i()()()()}if(d&2){let e=c();o(4),p("ngIf",e.errorMessage),o(8),_("ngModel",e.newStaff.name),o(6),_("ngModel",e.newStaff.surname),o(7),_("ngModel",e.newStaff.email),o(6),_("ngModel",e.newStaff.departmentId),o(),p("value",0),o(2),p("ngForOf",e.departments),o(7),_("ngModel",e.newStaff.noDaysPerWeek_contract),o(7),_("ngModel",e.newStaff.startTime_contract),o(6),_("ngModel",e.newStaff.endTime_contract),o(2),p("disabled",e.isLoading),o(),S(" ",e.isLoading?"Creating...":"Add Staff Member"," "),o(),p("disabled",e.isLoading)}}function te(d,r){if(d&1&&(t(0,"div",23),a(1),i()),d&2){let e=c(2);o(),S(" ",e.errorMessage," ")}}function ne(d,r){if(d&1&&(t(0,"option",52),a(1),i()),d&2){let e=r.$implicit;p("value",e.dpmtId),o(),S(" ",e.dpmtName," ")}}function ie(d,r){if(d&1){let e=b();t(0,"div",40),g("click",function(){m(e);let n=c();return f(n.closeEditModal())}),t(1,"div",41),g("click",function(n){return m(e),f(n.stopPropagation())}),t(2,"h2",42),a(3,"Edit Staff Member"),i(),h(4,te,2,1,"div",11),t(5,"div",43)(6,"div",44)(7,"div",45)(8,"label",46),a(9,"Name "),t(10,"span",47),a(11,"*"),i()(),t(12,"input",48),u("ngModelChange",function(n){m(e);let s=c();return x(s.editStaff.name,n)||(s.editStaff.name=n),f(n)}),i()(),t(13,"div",45)(14,"label",46),a(15,"Surname "),t(16,"span",47),a(17,"*"),i()(),t(18,"input",49),u("ngModelChange",function(n){m(e);let s=c();return x(s.editStaff.surname,n)||(s.editStaff.surname=n),f(n)}),i()()(),t(19,"div",44)(20,"div",45)(21,"label",46),a(22,"Email "),t(23,"span",47),a(24,"*"),i()(),t(25,"input",50),u("ngModelChange",function(n){m(e);let s=c();return x(s.editStaff.email,n)||(s.editStaff.email=n),f(n)}),i()(),t(26,"div",45)(27,"label",46),a(28,"Department "),t(29,"span",47),a(30,"*"),i()(),t(31,"select",51),u("ngModelChange",function(n){m(e);let s=c();return x(s.editStaff.departmentId,n)||(s.editStaff.departmentId=n),f(n)}),t(32,"option",52),a(33,"Select Department"),i(),h(34,ne,2,2,"option",53),i()()(),t(35,"div",44)(36,"div",45)(37,"label",46),a(38,"Number of Absences"),i(),t(39,"input",59),u("ngModelChange",function(n){m(e);let s=c();return x(s.editStaff.noAbsence,n)||(s.editStaff.noAbsence=n),f(n)}),i()(),t(40,"div",45)(41,"label",46),a(42,"Status"),i(),t(43,"select",60),u("ngModelChange",function(n){m(e);let s=c();return x(s.editStaff.active,n)||(s.editStaff.active=n),f(n)}),t(44,"option",52),a(45,"Active"),i(),t(46,"option",52),a(47,"Inactive"),i()()()()(),t(48,"div",56)(49,"button",57),g("click",function(){m(e);let n=c();return f(n.updateStaff())}),a(50),i(),t(51,"button",58),g("click",function(){m(e);let n=c();return f(n.closeEditModal())}),a(52," Cancel "),i()()()()}if(d&2){let e=c();o(4),p("ngIf",e.errorMessage),o(8),_("ngModel",e.editStaff.name),o(6),_("ngModel",e.editStaff.surname),o(7),_("ngModel",e.editStaff.email),o(6),_("ngModel",e.editStaff.departmentId),o(),p("value",0),o(2),p("ngForOf",e.departments),o(5),_("ngModel",e.editStaff.noAbsence),o(4),_("ngModel",e.editStaff.active),o(),p("value",!0),o(2),p("value",!1),o(3),p("disabled",e.isLoading),o(),S(" ",e.isLoading?"Updating...":"Update Staff Member"," "),o(),p("disabled",e.isLoading)}}function ae(d,r){if(d&1&&(t(0,"div",23),a(1),i()),d&2){let e=c(2);o(),S(" ",e.errorMessage," ")}}function re(d,r){if(d&1){let e=b();t(0,"div",40),g("click",function(){m(e);let n=c();return f(n.closeDepartmentModal())}),t(1,"div",41),g("click",function(n){return m(e),f(n.stopPropagation())}),t(2,"h2",42),a(3,"Add New Department"),i(),h(4,ae,2,1,"div",11),t(5,"div",43)(6,"div",61)(7,"label",46),a(8,"Department Name "),t(9,"span",47),a(10,"*"),i()(),t(11,"input",62),u("ngModelChange",function(n){m(e);let s=c();return x(s.newDepartment.dpmtName,n)||(s.newDepartment.dpmtName=n),f(n)}),i()()(),t(12,"div",56)(13,"button",57),g("click",function(){m(e);let n=c();return f(n.saveDepartment())}),a(14),i(),t(15,"button",58),g("click",function(){m(e);let n=c();return f(n.closeDepartmentModal())}),a(16," Cancel "),i()()()()}if(d&2){let e=c();o(4),p("ngIf",e.errorMessage),o(7),_("ngModel",e.newDepartment.dpmtName),o(2),p("disabled",e.isLoading),o(),S(" ",e.isLoading?"Creating...":"Add Department"," "),o(),p("disabled",e.isLoading)}}function oe(d,r){if(d&1&&(t(0,"div",23),a(1),i()),d&2){let e=c(2);o(),S(" ",e.errorMessage," ")}}function le(d,r){if(d&1){let e=b();t(0,"div",40),g("click",function(){m(e);let n=c();return f(n.closeEditDepartmentModal())}),t(1,"div",41),g("click",function(n){return m(e),f(n.stopPropagation())}),t(2,"h2",42),a(3,"Edit Department"),i(),h(4,oe,2,1,"div",11),t(5,"div",43)(6,"div",61)(7,"label",46),a(8,"Department Name "),t(9,"span",47),a(10,"*"),i()(),t(11,"input",62),u("ngModelChange",function(n){m(e);let s=c();return x(s.editDepartment.dpmtName,n)||(s.editDepartment.dpmtName=n),f(n)}),i()()(),t(12,"div",56)(13,"button",57),g("click",function(){m(e);let n=c();return f(n.updateDepartment())}),a(14),i(),t(15,"button",58),g("click",function(){m(e);let n=c();return f(n.closeEditDepartmentModal())}),a(16," Cancel "),i()()()()}if(d&2){let e=c();o(4),p("ngIf",e.errorMessage),o(7),_("ngModel",e.editDepartment.dpmtName),o(2),p("disabled",e.isLoading),o(),S(" ",e.isLoading?"Updating...":"Update Department"," "),o(),p("disabled",e.isLoading)}}function de(d,r){if(d&1){let e=b();t(0,"div",71)(1,"button",72),g("click",function(){m(e);let n=c(2);return f(n.startFingerprintScan())}),a(2," Start Scan "),i(),t(3,"button",73),g("click",function(){m(e);let n=c(2);return f(n.closeFingerprintModal())}),a(4," Cancel "),i()()}}function se(d,r){if(d&1){let e=b();t(0,"div",40),g("click",function(){m(e);let n=c();return f(n.closeFingerprintModal())}),t(1,"div",63),g("click",function(n){return m(e),f(n.stopPropagation())}),t(2,"div",64)(3,"div",65)(4,"span",66),a(5,"\u{1F446}"),i()(),t(6,"h3",67),a(7),i(),t(8,"p",68),a(9),i(),t(10,"p",69),a(11),i(),h(12,de,5,0,"div",70),i()()()}if(d&2){let e=c();o(3),E("scanning",e.isScanning),o(4),S(" ",e.isScanning?"Scanning Fingerprint...":"Register Fingerprint"," "),o(2),M(e.selectedStaff?e.getFullName(e.selectedStaff):""),o(2),S(" ",e.isScanning?"Please keep your finger on the scanner":"Click the button below to start fingerprint registration"," "),o(),p("ngIf",!e.isScanning)}}var j=class d{constructor(r,e){this.staffService=r;this.departmentService=e}staff=[];departments=[];searchQuery="";showAddModal=!1;showEditModal=!1;showFingerprintModal=!1;showDepartmentModal=!1;showEditDepartmentModal=!1;selectedStaff=null;selectedDepartment=null;isScanning=!1;errorMessage="";isLoading=!1;newStaff={name:"",surname:"",email:"",departmentId:0,noDaysPerWeek_contract:5,startTime_contract:"",endTime_contract:""};editStaff={name:"",surname:"",email:"",departmentId:0,noAbsence:0,active:!0};newDepartment={dpmtName:""};editDepartment={dpmtName:""};ngOnInit(){this.loadStaff(),this.loadDepartments()}loadStaff(){this.isLoading=!0,this.staffService.getAllStaff().subscribe({next:r=>{this.staff=r,this.isLoading=!1},error:r=>{this.errorMessage=r.message||"Failed to load staff",this.isLoading=!1,console.error("Error loading staff:",r)}})}loadDepartments(){this.departmentService.getAllDepartments().subscribe({next:r=>{this.departments=r},error:r=>{console.error("Error loading departments:",r)}})}get filteredStaff(){if(!this.searchQuery)return this.staff;let r=this.searchQuery.toLowerCase();return this.staff.filter(e=>e.name?.toLowerCase().includes(r)||e.surname?.toLowerCase().includes(r)||e.email?.toLowerCase().includes(r)||e.departmentName?.toLowerCase().includes(r))}openAddModal(){this.showAddModal=!0,this.errorMessage="",this.newStaff={name:"",surname:"",email:"",departmentId:0,noDaysPerWeek_contract:5,startTime_contract:"",endTime_contract:""}}closeAddModal(){this.showAddModal=!1,this.errorMessage=""}saveStaff(){if(!this.validateForm())return;this.isLoading=!0,this.errorMessage="";let r=C(v({},this.newStaff),{startTime_contract:this.formatDateTime(this.newStaff.startTime_contract),endTime_contract:this.formatDateTime(this.newStaff.endTime_contract)});this.staffService.createStaff(r).subscribe({next:()=>{this.closeAddModal(),this.loadStaff(),this.isLoading=!1},error:e=>{this.errorMessage=e.message||"Failed to create staff member",this.isLoading=!1,console.error("Error creating staff:",e)}})}formatDateTime(r){return r?r.length===16?r+":00":r:""}validateForm(){return!this.newStaff.name||!this.newStaff.surname||!this.newStaff.email?(this.errorMessage="Name, surname, and email are required",!1):!this.newStaff.departmentId||this.newStaff.departmentId===0?(this.errorMessage="Please select a department",!1):!this.newStaff.startTime_contract||!this.newStaff.endTime_contract?(this.errorMessage="Contract start and end times are required",!1):this.newStaff.noDaysPerWeek_contract<=0?(this.errorMessage="Days per week must be greater than 0",!1):!0}deleteStaff(r){confirm("Are you sure you want to delete this staff member?")&&(this.isLoading=!0,this.staffService.deleteStaff(r).subscribe({next:()=>{this.loadStaff(),this.isLoading=!1},error:e=>{this.errorMessage=e.message||"Failed to delete staff member",this.isLoading=!1,console.error("Error deleting staff:",e)}}))}openFingerprintModal(r){this.selectedStaff=r,this.showFingerprintModal=!0,this.isScanning=!1}closeFingerprintModal(){this.showFingerprintModal=!1,this.selectedStaff=null}startFingerprintScan(){this.isScanning=!0,setTimeout(()=>{this.isScanning=!1,this.closeFingerprintModal()},3e3)}getInitials(r,e){let l=r?r[0]:"",n=e?e[0]:"";return(l+n).toUpperCase()}getFullName(r){return`${r.name||""} ${r.surname||""}`.trim()}openDepartmentModal(){this.showDepartmentModal=!0,this.errorMessage="",this.newDepartment={dpmtName:""}}closeDepartmentModal(){this.showDepartmentModal=!1,this.errorMessage=""}saveDepartment(){if(!this.newDepartment.dpmtName||this.newDepartment.dpmtName.trim()===""){this.errorMessage="Department name is required";return}this.isLoading=!0,this.errorMessage="",this.departmentService.createDepartment(this.newDepartment).subscribe({next:()=>{this.closeDepartmentModal(),this.loadDepartments(),this.isLoading=!1},error:r=>{this.errorMessage=r.message||"Failed to create department",this.isLoading=!1,console.error("Error creating department:",r)}})}openEditDepartmentModal(r){this.selectedDepartment=r,this.showEditDepartmentModal=!0,this.errorMessage="",this.editDepartment={dpmtName:r.dpmtName}}closeEditDepartmentModal(){this.showEditDepartmentModal=!1,this.selectedDepartment=null,this.errorMessage=""}updateDepartment(){if(!this.selectedDepartment||!this.editDepartment.dpmtName||this.editDepartment.dpmtName.trim()===""){this.errorMessage="Department name is required";return}this.isLoading=!0,this.errorMessage="",this.departmentService.updateDepartment(this.selectedDepartment.dpmtId,this.editDepartment).subscribe({next:()=>{this.closeEditDepartmentModal(),this.loadDepartments(),this.loadStaff(),this.isLoading=!1},error:r=>{this.errorMessage=r.message||"Failed to update department",this.isLoading=!1,console.error("Error updating department:",r)}})}deleteDepartment(r){confirm(`Are you sure you want to delete the department "${r.dpmtName}"? This action cannot be undone if the department has staff members.`)&&(this.isLoading=!0,this.departmentService.deleteDepartment(r.dpmtId).subscribe({next:()=>{this.loadDepartments(),this.loadStaff(),this.isLoading=!1},error:e=>{this.errorMessage=e.message||"Failed to delete department",this.isLoading=!1,console.error("Error deleting department:",e)}}))}openEditModal(r){this.selectedStaff=r,this.showEditModal=!0,this.errorMessage="",this.editStaff={name:r.name||"",surname:r.surname||"",email:r.email||"",departmentId:r.departmentId||0,noAbsence:r.noAbsence||0,active:r.active!==void 0?r.active:!0}}closeEditModal(){this.showEditModal=!1,this.selectedStaff=null,this.errorMessage=""}updateStaff(){if(this.selectedStaff){if(!this.editStaff.name||!this.editStaff.surname||!this.editStaff.email){this.errorMessage="Name, surname, and email are required";return}if(!this.editStaff.departmentId||this.editStaff.departmentId===0){this.errorMessage="Please select a department";return}this.isLoading=!0,this.errorMessage="",this.staffService.updateStaff(this.selectedStaff.userId,this.editStaff).subscribe({next:()=>{this.closeEditModal(),this.loadStaff(),this.isLoading=!1},error:r=>{this.errorMessage=r.message||"Failed to update staff member",this.isLoading=!1,console.error("Error updating staff:",r)}})}}static \u0275fac=function(e){return new(e||d)(w(B),w(R))};static \u0275cmp=y({type:d,selectors:[["app-staff-management"]],decls:73,vars:12,consts:[[1,"staff-management-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"btn-add-staff",3,"click"],[1,"btn-icon"],[1,"search-container"],[1,"search-wrapper"],[1,"search-icon"],["type","text","placeholder","Search staff...",1,"search-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"section-container"],[1,"section-header"],[1,"section-title"],[1,"btn-add-staff","btn-small",3,"click"],[1,"table-container"],[1,"staff-table"],[1,"text-right"],["class","table-row",4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"error-message"],[1,"loading-indicator"],[1,"table-row"],[1,"employee-id"],[1,"staff-name"],[1,"text-muted"],[1,"actions-cell"],["title","Edit",1,"btn-icon-action","edit-btn",3,"click"],["title","Delete",1,"btn-icon-action","delete-btn",3,"click"],["colspan","5",1,"text-center","text-muted"],[1,"name-cell"],[1,"avatar"],["class","badge badge-registered",4,"ngIf"],["class","badge badge-inactive",4,"ngIf"],[1,"badge","badge-registered"],[1,"badge","badge-inactive"],["colspan","8",1,"text-center","text-muted"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-title"],[1,"form-container"],[1,"form-row"],[1,"form-group"],[1,"form-label"],[1,"required"],["type","text","placeholder","John","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Doe","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","email","placeholder","john@company.com","required","",1,"form-input",3,"ngModelChange","ngModel"],["required","",1,"form-input",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","number","min","1","max","7","placeholder","5","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","datetime-local","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-actions"],[1,"btn-primary",3,"click","disabled"],[1,"btn-secondary",3,"click","disabled"],["type","number","min","0","placeholder","0",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-input",3,"ngModelChange","ngModel"],[1,"form-group-full"],["type","text","placeholder","Engineering","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-content","modal-fingerprint",3,"click"],[1,"fingerprint-content"],[1,"fingerprint-icon-container"],[1,"fingerprint-emoji"],[1,"fingerprint-title"],[1,"fingerprint-staff-name"],[1,"fingerprint-description"],["class","fingerprint-actions",4,"ngIf"],[1,"fingerprint-actions"],[1,"btn-scan",3,"click"],[1,"btn-cancel",3,"click"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Staff Management"),i(),t(5,"p",4),a(6,"Manage staff members and their fingerprint authentication"),i()(),t(7,"button",5),g("click",function(){return l.openAddModal()}),t(8,"span",6),a(9,"+"),i(),t(10,"span"),a(11,"Add Staff"),i()()(),t(12,"div",7)(13,"div",8)(14,"span",9),a(15,"\u{1F50D}"),i(),t(16,"input",10),u("ngModelChange",function(s){return x(l.searchQuery,s)||(l.searchQuery=s),s}),i()()(),h(17,U,2,1,"div",11)(18,Q,2,0,"div",12),t(19,"div",13)(20,"div",14)(21,"h2",15),a(22,"Departments"),i(),t(23,"button",16),g("click",function(){return l.openDepartmentModal()}),t(24,"span",6),a(25,"+"),i(),t(26,"span"),a(27,"Add Department"),i()()(),t(28,"div",17)(29,"table",18)(30,"thead")(31,"tr")(32,"th"),a(33,"ID"),i(),t(34,"th"),a(35,"Name"),i(),t(36,"th"),a(37,"Total Staff"),i(),t(38,"th"),a(39,"Active Staff"),i(),t(40,"th",19),a(41,"Actions"),i()()(),t(42,"tbody"),h(43,Y,14,4,"tr",20)(44,J,3,0,"tr",21),i()()()(),t(45,"div",17)(46,"table",18)(47,"thead")(48,"tr")(49,"th"),a(50,"ID"),i(),t(51,"th"),a(52,"Name"),i(),t(53,"th"),a(54,"Department"),i(),t(55,"th"),a(56,"Email"),i(),t(57,"th"),a(58,"Role"),i(),t(59,"th"),a(60,"Status"),i(),t(61,"th"),a(62,"Absences"),i(),t(63,"th",19),a(64,"Actions"),i()()(),t(65,"tbody"),h(66,K,25,9,"tr",20)(67,X,3,0,"tr",21),i()()()(),h(68,ee,60,13,"div",22)(69,ie,53,14,"div",22)(70,re,17,5,"div",22)(71,le,17,5,"div",22)(72,se,13,6,"div",22)),e&2&&(o(16),_("ngModel",l.searchQuery),o(),p("ngIf",l.errorMessage&&!l.showAddModal&&!l.showEditModal&&!l.showDepartmentModal&&!l.showEditDepartmentModal&&!l.showFingerprintModal),o(),p("ngIf",l.isLoading),o(25),p("ngForOf",l.departments),o(),p("ngIf",l.departments.length===0&&!l.isLoading),o(22),p("ngForOf",l.filteredStaff),o(),p("ngIf",l.filteredStaff.length===0&&!l.isLoading),o(),p("ngIf",l.showAddModal),o(),p("ngIf",l.showEditModal),o(),p("ngIf",l.showDepartmentModal),o(),p("ngIf",l.showEditDepartmentModal),o(),p("ngIf",l.showFingerprintModal))},dependencies:[O,P,D,q,W,N,k,T,L,V,z,A,F,I],styles:[".staff-management-container[_ngcontent-%COMP%]{padding:32px;background-color:#f8f9fa;min-height:100vh}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px}.header-content[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1a202c;margin:0 0 6px;letter-spacing:-.02em}.page-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#718096;margin:0;font-weight:400}.btn-add-staff[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s}.btn-add-staff[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.btn-icon[_ngcontent-%COMP%]{font-size:18px;line-height:1}.search-container[_ngcontent-%COMP%]{margin-bottom:24px}.search-wrapper[_ngcontent-%COMP%]{position:relative;max-width:400px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);font-size:16px;opacity:.5}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px 12px 44px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;background:#fff;transition:all .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.search-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000000d;border:1px solid #e2e8f0;overflow:hidden}.staff-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.staff-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7fafc;border-bottom:1px solid #e2e8f0}.staff-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 20px;text-align:left;font-size:12px;font-weight:600;color:#4a5568;text-transform:uppercase;letter-spacing:.05em}.staff-table[_ngcontent-%COMP%]   th.text-right[_ngcontent-%COMP%]{text-align:right}.staff-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f1f5f9;transition:background-color .15s}.staff-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.staff-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.staff-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 20px;font-size:14px;color:#2d3748}.employee-id[_ngcontent-%COMP%]{font-weight:600;color:#1a202c}.name-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:13px;flex-shrink:0}.staff-name[_ngcontent-%COMP%]{font-weight:500;color:#1a202c}.text-muted[_ngcontent-%COMP%]{color:#718096!important}.text-center[_ngcontent-%COMP%]{text-align:center}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600;border:none;cursor:pointer;transition:all .2s}.badge-registered[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.badge-inactive[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.badge-register[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.badge-register[_ngcontent-%COMP%]:hover{background:#bfdbfe;transform:translateY(-1px)}.fingerprint-icon[_ngcontent-%COMP%]{font-size:14px}.actions-cell[_ngcontent-%COMP%]{text-align:right}.btn-icon-action[_ngcontent-%COMP%]{background:none;border:none;font-size:16px;cursor:pointer;padding:6px 8px;margin:0 2px;border-radius:6px;transition:all .2s;opacity:.7}.btn-icon-action[_ngcontent-%COMP%]:hover{opacity:1;background:#f1f5f9;transform:scale(1.1)}.edit-btn[_ngcontent-%COMP%]:hover{background:#dbeafe}.delete-btn[_ngcontent-%COMP%]:hover{background:#fee2e2}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;padding:32px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto}.modal-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1a202c;margin:0 0 24px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-group[_ngcontent-%COMP%], .form-group-full[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#4a5568;margin-bottom:8px}.form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444;margin-left:2px}.form-input[_ngcontent-%COMP%]{padding:10px 14px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;transition:all .2s;background:#fff}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}select.form-input[_ngcontent-%COMP%]{cursor:pointer}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:24px}.btn-primary[_ngcontent-%COMP%]{flex:1;background:#3b82f6;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:disabled, .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{flex:1;background:#f1f5f9;color:#475569;border:none;padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0}.modal-fingerprint[_ngcontent-%COMP%]{max-width:450px;text-align:center}.fingerprint-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.fingerprint-icon-container[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;margin-bottom:24px;transition:all .3s}.fingerprint-icon-container.scanning[_ngcontent-%COMP%]{background:#dbeafe;animation:_ngcontent-%COMP%_pulse 2s infinite}.fingerprint-emoji[_ngcontent-%COMP%]{font-size:56px;filter:drop-shadow(0 4px 6px rgba(0,0,0,.1))}.fingerprint-icon-container.scanning[_ngcontent-%COMP%]   .fingerprint-emoji[_ngcontent-%COMP%]{filter:none}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}.fingerprint-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1a202c;margin:0 0 8px}.fingerprint-staff-name[_ngcontent-%COMP%]{font-size:15px;color:#4a5568;font-weight:500;margin:0 0 12px}.fingerprint-description[_ngcontent-%COMP%]{font-size:13px;color:#718096;margin:0 0 24px;line-height:1.6}.fingerprint-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.btn-scan[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:14px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-scan[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #667eea66}.btn-cancel[_ngcontent-%COMP%]{width:100%;background:#f1f5f9;color:#475569;border:none;padding:14px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background:#e2e8f0}.error-message[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b;padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:14px;border-left:4px solid #ef4444}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:24px;color:#718096;font-size:14px}.section-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000000d;border:1px solid #e2e8f0;padding:24px;margin-bottom:32px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1a202c;margin:0}.btn-small[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px}@media (max-width: 768px){.staff-management-container[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.btn-add-staff[_ngcontent-%COMP%]{width:100%;justify-content:center}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.staff-table[_ngcontent-%COMP%]{min-width:800px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{j as StaffManagement};
